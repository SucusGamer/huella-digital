# =========================================================
# CONFIGURACIÓN SISTEMA BIOMÉTRICO MULTI-TEMPLATE
# =========================================================
# Sistema robusto con 4 capturas por empleado
# Configuración optimizada para máxima precisión y cero falsos positivos

# =========================================================
# PARÁMETROS DE MATCHING SIFT
# =========================================================

# Lowe's Ratio Test - Más bajo = más estricto
# 0.75 es estándar, 0.70 es más conservador
FP_RATIO=0.75

# Mínimo de matches base
# Este es el número mínimo de matches SIFT requeridos
# Valor recomendado: 25-35 para alta seguridad
FP_MIN_BASE=30

# Porcentaje mínimo de keypoints que deben matchear
# 0.03 = 3% de los keypoints deben matchear
FP_MIN_PERCENT=0.03

# Confianza mínima requerida (porcentaje)
# Para keypoints normales y altos
FP_CONF_MIN=55.0
FP_CONF_HIGH=75.0

# =========================================================
# CALIDAD DE TEMPLATES
# =========================================================

# Número mínimo de keypoints para considerar template de calidad
FP_MIN_KEYPOINTS=350

# Número mínimo de keypoints para generar advertencia
FP_MIN_KEYPOINTS_WARN=200

# Umbral de keypoints para considerar "alta confianza"
FP_HIGH_CONF_KP=500

# =========================================================
# ANTI-FALSOS POSITIVOS
# =========================================================

# Margen base requerido sobre el threshold
# Este margen adicional previene falsos positivos
FP_MARGIN_BASE=10

# Margen como porcentaje del mejor score
# 0.15 = 15% adicional sobre el mejor candidato
FP_MARGIN_PERCENT=0.15

# Score absoluto mínimo aceptable
# Ningún match será aceptado por debajo de este valor
FP_ABS_MIN_SCORE=50

# Margen adicional para single-template (legacy)
FP_SINGLE_TEMPLATE_MARGIN_MIN=8
FP_SINGLE_TEMPLATE_MARGIN_RATIO=0.12

# =========================================================
# CONFIGURACIÓN SIFT
# =========================================================

# Número de features SIFT a extraer
# Más features = mejor precisión pero más lento
# Recomendado: 1500-2000 para 4 templates
FP_SIFT_FEATURES=1500

# Umbral de contraste (más bajo = más keypoints)
FP_SIFT_CONTRAST=0.02

# Umbral de detección de bordes
FP_SIFT_EDGE=10

# Sigma para Gaussian blur
FP_SIFT_SIGMA=1.6

# =========================================================
# MEJORA DE IMÁGENES
# =========================================================

# Forzar uso de enhancement básico (0=No, 1=Sí)
# Dejar en 0 para usar enhancement profesional
FP_FORCE_BASIC=0

# Usar enhancement profesional para templates (recomendado)
FP_TEMPLATE_USE_PROFESSIONAL=1

# Usar enhancement rápido (0=No, 1=Sí)
# Solo para velocidad, puede afectar precisión
FP_TEMPLATE_USE_FAST=0

# =========================================================
# CONFIGURACIÓN RANSAC (opcional)
# =========================================================

# Usar RANSAC para validación geométrica
FP_USE_RANSAC=false

# Umbral de error para RANSAC
FP_RANSAC_THRESHOLD=3.0

# Mínimo de inliers para RANSAC
FP_RANSAC_MIN_INLIERS=10

# =========================================================
# PERFORMANCE
# =========================================================

# Número máximo de workers para procesamiento paralelo
FP_MAX_WORKERS=4

# =========================================================
# BASE DE DATOS POSTGRESQL
# =========================================================

PG_HOST=localhost
PG_DBNAME=huellas
PG_USER=postgres
PG_PASSWORD=1234
PG_PORT=5432

# =========================================================
# NOTAS DE CONFIGURACIÓN
# =========================================================
#
# PARA ALTA SEGURIDAD (recomendado):
# - FP_MIN_BASE=30
# - FP_MARGIN_BASE=10
# - FP_ABS_MIN_SCORE=50
# - FP_RATIO=0.75
#
# PARA BALANCE SEGURIDAD/USABILIDAD:
# - FP_MIN_BASE=25
# - FP_MARGIN_BASE=8
# - FP_ABS_MIN_SCORE=45
# - FP_RATIO=0.77
#
# PARA MÁXIMA TOLERANCIA (no recomendado):
# - FP_MIN_BASE=20
# - FP_MARGIN_BASE=6
# - FP_ABS_MIN_SCORE=40
# - FP_RATIO=0.80
#
# =========================================================
